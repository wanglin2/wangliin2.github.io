(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1665:function(t,e,s){"use strict";s.r(e);var n=s(2230),a=s(1879);for(var i in a)"default"!==i&&function(t){s.d(e,t,(function(){return a[t]}))}(i);s(2078);var r=s(7),o=Object(r.a)(a.default,n.a,n.b,!1,null,"d922c70a",null);e.default=o.exports},1879:function(t,e,s){"use strict";s.r(e);var n=s(1880),a=s.n(n);for(var i in n)"default"!==i&&function(t){s.d(e,t,(function(){return n[t]}))}(i);e.default=a.a},1880:function(t,e,s){"use strict";s(2),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(2075),a={data:function(){return{touchMove:null,msgList:["触摸我试试~"]}},mounted:function(){var t=this;this.touchMove=new n.TouchMove({el:this.$refs.container}),this.touchMove.on("touchstart",(function(e,s){t.msgList.push("【touchstart】"+e+","+s)})),this.touchMove.on("touchmove",(function(e,s,n){t.msgList.push("【touchmove】"+e+","+s+","+n)})),this.touchMove.on("touchend",(function(e,s,n){t.msgList.push("【touchend】"+e+","+s+","+n)})),this.touchMove.on("quickSwipe",(function(e){t.msgList.push("【quickSwipe】,"+e)}))},methods:{}};e.default=a},1881:function(t,e,s){"use strict";var n=s(11);s(2),s(394),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(s(395)),i=n(s(560)),r=function(){function t(){(0,a.default)(this,t),this.observerListeners={},this.observerToken=0}return(0,i.default)(t,[{key:"publish",value:function(t){if(!t||!this.observerListeners[t])return!1;for(var e=this.observerListeners[t],s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];for(var i=0;i<e.length;i++)e[i].context?e[i].fn.apply(e[i].context,n):e[i].fn.apply(e[i].fn,n)}},{key:"subscribe",value:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.observerListeners[t]||(this.observerListeners[t]=[]),this.observerToken++,this.observerListeners[t].push({fn:e,context:s,token:this.observerToken}),this.observerToken}},{key:"unsubscribe",value:function(t){if(!t)return!1;for(var e in this.observerListeners)if(this.observerListeners.hasOwnProperty(e))for(var s=0;s<this.observerListeners[e].length;s++)this.observerListeners[e][s].token===t&&this.observerListeners[e].splice(s,1)}},{key:"clearTopic",value:function(t){if(!t)return!1;for(var e in this.observerListeners)this.observerListeners.hasOwnProperty(e)&&e===t&&delete this.observerListeners[e]}},{key:"clearAll",value:function(){this.observerListeners={},this.observerToken=0}}]),t}();e.default=r},1882:function(t,e,s){"use strict";s.r(e);var n=s(1883),a=s.n(n);for(var i in n)"default"!==i&&function(t){s.d(e,t,(function(){return n[t]}))}(i);e.default=a.a},1883:function(t,e,s){"use strict";var n=s(11);s(2),s(921),s(30),s(157),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s(923),s(36);var a=n(s(1997)),i={name:"SwipePage",components:{},props:{hasPrev:{type:Function,default:function(){return function(){}}},hasNext:{type:Function,default:function(){return function(){}}},toast:{type:Function,default:function(){return function(){}}},noPrevTip:{type:"String",default:"已经是第一条了"},noNextTip:{type:"String",default:"已经是最后一条了"},quickSwipeSpeed:{type:Number,default:1500},wrapWidth:{type:[Number,Object]},ratio:{type:Number,default:.5}},data:function(){return{touchMove:null,movingType:"",current:2,firstShowNext:!0,transition:"left 0.3s",winWidth:this.wrapWidth?"number"==typeof this.wrapWidth?this.wrapWidth:this.wrapWidth.offsetWidth:window.innerWidth,dragged:!1,page1Left:0,page1StartMoveNum:0,showPage1:!1,page2Left:0,page2StartMoveNum:0,showPage2:!0}},computed:{next:function(){return 1===this.current?2:1},currentPageStartMoveNum:function(){return"page".concat(this.current,"StartMoveNum")},currentPageLeft:function(){return"page".concat(this.current,"Left")},nextPageStartMoveNum:function(){return"page".concat(this.next,"StartMoveNum")},nextPageLeft:function(){return"page".concat(this.next,"Left")},nextShowPage:function(){return"showPage".concat(this.next)},pageStyle1:function(){return{left:this.page1Left+"px",transition:this.transition}},pageStyle2:function(){return{left:this.page2Left+"px",transition:this.transition}}},created:function(){this._onTouchstart=this.onTouchstart.bind(this),this._onTouchmove=this.onTouchmove.bind(this),this._onTouchend=this.onTouchend.bind(this)},mounted:function(){this.touchMove=new a.default({el:this.$refs.pageBox}),this.bindEvent(),this.$emit("change",this.current)},beforeDestroy:function(){this.unbindEvent()},methods:{bindEvent:function(){this.touchMove.on("touchstart",this._onTouchstart),this.touchMove.on("touchmove",this._onTouchmove),this.touchMove.on("touchend",this._onTouchend)},unbindEvent:function(){this.touchMove.off("touchstart",this._onTouchstart),this.touchMove.off("touchmove",this._onTouchmove),this.touchMove.off("touchend",this._onTouchend)},onTouchstart:function(){this[this.currentPageStartMoveNum]=this[this.currentPageLeft],this.transition="none"},onTouchmove:function(t,e,s){var n=!this.movingType||"x"===this.movingType,a=Math.abs(t)>Math.abs(e)+5;if(n&&a){if(this.isQuickSwipe(t,s))return void this.quickSwipe(t);if(!this[t>0?"hasPrev":"hasNext"]())return void this.toast(t>0?this.noPrevTip:this.noNextTip);this.movingType||(this.movingType="x"),this.dragged=!0,this.firstShowNext&&this.$emit("swipeTo",t>0?"prev":"next"),this.swipe(t)}else this.movingType||(this.movingType="y")},onTouchend:function(t){Math.abs(t.y)>Math.abs(t.x)||(this.movingType="",this.firstShowNext=!0,this.transition="left 0.3s",this.dragged&&(this.dragged=!1,this.swipeToNext(t)))},swipe:function(t){this[this.currentPageLeft]=t+this[this.currentPageStartMoveNum],this.firstShowNext&&(this.firstShowNext=!1,this[this.nextPageStartMoveNum]=t>0?-this.winWidth:this.winWidth,this[this.nextShowPage]=!0),this[this.nextPageLeft]=t+this[this.nextPageStartMoveNum]},swipeToNext:function(t,e){var s=this,n="";Math.abs(t)>=this.winWidth*this.ratio?(this[this.nextPageLeft]=0,this[this.currentPageLeft]=t>0?this.winWidth:-this.winWidth,n=this.current,this.current=this.next,this.$emit("change",this.current)):(this[this.currentPageLeft]=0,this[this.nextPageLeft]=t>0?-this.winWidth:this.winWidth,n=this.next),setTimeout((function(){s["showPage".concat(n)]=!1,s.page1Left=0,s.page1StartMoveNum=0,s.page2Left=0,s.page2StartMoveNum=0}),300)},quickSwipe:function(t){},isQuickSwipe:function(t,e){return Math.abs(t/e)>this.quickSwipeSpeed}}};e.default=i},1884:function(t,e,s){},1885:function(t,e,s){},1997:function(t,e,s){"use strict";var n=s(11);s(2),s(240),s(116),s(921),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s(405),s(923);var a=n(s(395)),i=n(s(560)),r=n(s(1881)),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t),this.opt=e,this.speedLimit=e.speedLimit||1e3,this.el=this.opt.el||document.body,this.startPos={x:0,y:0},this.curPos={x:0,y:0},this.moveNum={x:0,y:0},this.startTime=0,this.duration=0,this.observer=new r.default,this._touchstart=this.touchstart.bind(this),this._touchmove=this.touchmove.bind(this),this._touchend=this.touchend.bind(this),this.bindEvent()}return(0,i.default)(t,[{key:"bindEvent",value:function(){this.el.addEventListener("touchstart",this._touchstart),this.el.addEventListener("touchmove",this._touchmove),this.el.addEventListener("touchend",this._touchend)}},{key:"unbindEvent",value:function(){this.el.removeEventListener("touchstart",this._touchstart),this.el.removeEventListener("touchmove",this._touchmove),this.el.removeEventListener("touchend",this._touchend)}},{key:"on",value:function(t,e,s){return this.observer.subscribe(t,e,s)}},{key:"off",value:function(t){this.observer.unsubscribe(t)}},{key:"touchstart",value:function(t){t.stopPropagation(),this.moveNum.x=0,this.moveNum.y=0,this.startPos.x=t.touches[0].clientX,this.startPos.y=t.touches[0].clientY,this.startTime=Date.now(),this.observer.publish("touchstart",this.startPos.x,this.startPos.y)}},{key:"touchmove",value:function(t){t.stopPropagation(),this.curPos={x:t.touches[0].clientX,y:t.touches[0].clientY},this.moveNum.x=this.curPos.x-this.startPos.x,this.moveNum.y=this.curPos.y-this.startPos.y,this.observer.publish("touchmove",this.moveNum.x,this.moveNum.y,(Date.now()-this.startTime)/1e3,this.curPos.x,this.curPos.y)}},{key:"touchend",value:function(t){t.stopPropagation(),this.duration=(Date.now()-this.startTime)/1e3,this.observer.publish("touchend",this.moveNum.x,this.moveNum.y,this.duration,this.curPos.x,this.curPos.y),this.checkQuickMove(),this.reset()}},{key:"reset",value:function(){this.startPos.x=0,this.startPos.y=0,this.curPos.x=0,this.curPos.y=0,this.startTime=0}},{key:"checkQuickMove",value:function(){if(Math.abs(this.moveNum.x)>Math.abs(this.moveNum.y)){var t=this.moveNum.x/this.duration;Math.abs(t)>=this.speedLimit&&(t<0?this.observer.publish("quickSwipe","left"):this.observer.publish("quickSwipe","right"))}else{var e=this.moveNum.y/this.duration;Math.abs(e)>=this.speedLimit&&(e<0?this.observer.publish("quickSwipe","up"):this.observer.publish("quickSwipe","down"))}}}]),t}();e.default=o},2075:function(t,e,s){"use strict";var n=s(11);s(2),s(31),Object.defineProperty(e,"__esModule",{value:!0}),e.SwipePage=e.TouchMove=void 0,s(28);var a=n(s(1997)),i=(n(s(2076)),a.default);e.TouchMove=i;var r={install:function(t){t.component(src.name,src)}};e.SwipePage=r},2076:function(t,e,s){"use strict";s.r(e);var n=s(2257),a=s(1882);for(var i in a)"default"!==i&&function(t){s.d(e,t,(function(){return a[t]}))}(i);s(2077);var r=s(7),o=Object(r.a)(a.default,n.a,n.b,!1,null,"cfccb344",null);e.default=o.exports},2077:function(t,e,s){"use strict";var n=s(1884);s.n(n).a},2078:function(t,e,s){"use strict";var n=s(1885);s.n(n).a},2230:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return a}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"itouch-触摸拖动库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#itouch-触摸拖动库"}},[t._v("#")]),t._v(" ITouch 触摸拖动库")]),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i i-touch\n")])])]),s("h2",{attrs:{id:"引入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入"}},[t._v("#")]),t._v(" 引入")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用TouchMove拖动类")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TouchMove "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i-touch'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用滑动翻页组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" SwipePage "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i-touch'")]),t._v("\nVue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SwipePage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"使用touchmove拖动类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用touchmove拖动类"}},[t._v("#")]),t._v(" 使用TouchMove拖动类")]),s("p",[t._v("该类支持基本的单指触摸，会触发一些如：touchstart、touchtouchmove")]),[s("code-box",{attrs:{title:"基础用法",description:""}},[s("div",{ref:"container",staticClass:"container"},t._l(t.msgList,(function(e,n){return s("p",{key:n,staticClass:"info"},[t._v(t._s(e))])})),0)])],s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("container"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("less"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("scoped")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),s("h3",{attrs:{id:"属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[t._v("#")]),t._v(" 属性")]),s("table",[s("thead",[s("tr",[s("th",[t._v("参数")]),s("th",[t._v("说明")]),s("th",[t._v("类型")]),s("th",[t._v("可选值")]),s("th",[t._v("默认值")])])]),s("tbody",[s("tr",[s("td"),s("td"),s("td"),s("td",[t._v("—")]),s("td")])])]),s("h3",{attrs:{id:"事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),s("table",[s("thead",[s("tr",[s("th",[t._v("事件")]),s("th",[t._v("说明")]),s("th",[t._v("回调函数")])])]),s("tbody",[s("tr",[s("td"),s("td"),s("td")])])]),s("h3",{attrs:{id:"方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),s("table",[s("thead",[s("tr",[s("th",[t._v("方法名")]),s("th",[t._v("说明")]),s("th",[t._v("参数")])])]),s("tbody",[s("tr",[s("td"),s("td"),s("td")])])])],2)},a=[]},2257:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return a}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"pageBox",staticClass:"pageBox"},[t.showPage1?s("div",{staticClass:"page1",style:t.pageStyle1},[t._t("page1")],2):t._e(),t.showPage2?s("div",{staticClass:"page2",style:t.pageStyle2},[t._t("page2")],2):t._e()])},a=[]}}]);